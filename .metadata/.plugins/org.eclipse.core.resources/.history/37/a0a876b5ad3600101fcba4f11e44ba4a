<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="kr.happyjob.study.repository.menu.MenuMapper">
   
   <select id="mainmenusearch"
         parameterType="Map"
         resultType="kr.happyjob.study.vo.menu.MainmenuVO">
         /* kr.happyjob.study.repository.menu.MenuMapper.mainmenusearch */

        select mnu_id
              ,hir_mnu_id
              ,mnu_nm
              ,mnu_url
              ,mnu_dvs_cod
              ,grp_num
              ,odr
              ,lvl
              ,mnu_ico_cod
              ,use_poa
              ,dlt_poa 
         from tm_mnu_mst
        <where>
         <if test ="(smenuid != null) and (!smenuid.equals(''))">
             and mnu_id  Like CONCAT('%', #{smenuid}, '%')
         </if>
         <if test ="(smenuname != null) and (!smenuname.equals(''))">
             and mnu_nm  Like CONCAT('%', #{smenuname}, '%')
         </if>
         <if test ="(suseyn != null) and (!suseyn.equals(''))">
             and use_poa = #{suseyn}
         </if>   
         and lvl = #{level}
       </where>
       order by hir_mnu_id, mnu_id
      limit #{pageIndex}, #{pageSize}
   </select>    
   
   <select id="mainmenusearchtotalcnt"
         parameterType="Map"
         resultType="int">
         /* kr.happyjob.study.repository.menu.MenuMapper.mainmenusearchtotalcnt */

        select count(*) as cnt
         from tm_mnu_mst
        <where>
         <if test ="(smenuid != null) and (!smenuid.equals(''))">
             and mnu_id  Like CONCAT('%', #{smenuid}, '%')
         </if>
         <if test ="(smenuname != null) and (!smenuname.equals(''))">
             and mnu_nm  Like CONCAT('%', #{smenuname}, '%')
         </if>
         <if test ="(suseyn != null) and (!suseyn.equals(''))">
             and use_poa = #{suseyn}
         </if>   
         and lvl = #{level}
       </where>
   </select>   
   
    <select id="submenusearch"
         parameterType="Map"
         resultType="kr.happyjob.study.vo.menu.MainmenuVO">
         /* kr.happyjob.study.repository.menu.MenuMapper.mainmenusearch */

        select mnu_id
              ,hir_mnu_id
              ,mnu_nm
              ,mnu_url
              ,mnu_dvs_cod
              ,grp_num
              ,odr
              ,lvl
              ,mnu_ico_cod
              ,use_poa
              ,dlt_poa 
         from tm_mnu_mst
        <where>
         <if test ="(smenuid != null) and (!smenuid.equals(''))">
             and mnu_id  Like CONCAT('%', #{smenuid}, '%')
         </if>
         <if test ="(smenuname != null) and (!smenuname.equals(''))">
             and mnu_nm  Like CONCAT('%', #{smenuname}, '%')
         </if>
         <if test ="(suseyn != null) and (!suseyn.equals(''))">
             and use_poa = #{suseyn}
         </if>   
         and lvl = #{level}
       </where>
       order by hir_mnu_id, mnu_id
      limit #{pageIndex}, #{pageSize}
   </select>    
   
   <select id="submenusearchtotalcnt"
         parameterType="Map"
         resultType="int">
         /* kr.happyjob.study.repository.menu.MenuMapper.mainmenusearchtotalcnt */

        select count(*) as cnt
         from tm_mnu_mst
        <where>
         <if test ="(smenuid != null) and (!smenuid.equals(''))">
             and mnu_id  Like CONCAT('%', #{smenuid}, '%')
         </if>
         <if test ="(smenuname != null) and (!smenuname.equals(''))">
             and mnu_nm  Like CONCAT('%', #{smenuname}, '%')
         </if>
         <if test ="(suseyn != null) and (!suseyn.equals(''))">
             and use_poa = #{suseyn}
         </if>   
         and lvl = #{level}
       </where>
   </select>   
   
      
</mapper>